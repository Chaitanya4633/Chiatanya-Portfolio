;/*FB_PKG_DELIM*/

__d("WAWebUtilsGetColor",["WANullthrows","err"],(function(a,b,c,d,e,f,g){var h=new Map([["sand-200","rgb(234, 224, 214)"],["sand-300","rgb(170, 148, 125)"],["sand-600","rgb(94, 83, 72)"]]),i=function(a){return getComputedStyle(c("WANullthrows")(document.body)).getPropertyValue(a)};function a(a,b){var d=a==="sand"?c("WANullthrows")(h.get(a+"-"+b)):i("--wds-"+a+"-"+b);if(d==="")throw c("err")("Get color failed (color="+a+" depth="+b+"). Please check whether wds color changed or there is a typo in color name.");return d}g["default"]=a}),98);
__d("WAWebUtilsSharpenFilter",[],(function(a,b,c,d,e,f){function a(a){var b=[0,-1,0,-1,5,-1,0,-1,0],c=Math.round(Math.sqrt(b.length)),d=c*.5|0,e=a.data,f=a.width;a=a.height;var g=new Uint8ClampedArray(e);for(var h=0;h<a;h++)for(var i=0;i<f;i++){var j=i,k=h,l=(h*f+i)*4,m=[0,0,0];for(var n=0;n<c;n++)for(var o=0;o<c;o++){var p=k+n-d,q=j+o-d;if(p>=0&&p<a&&q>=0&&q<f){p=(p*f+q)*4;q=b[n*c+o];m[0]+=g[p]*q;m[1]+=g[p+1]*q;m[2]+=g[p+2]*q}}e[l]=m[0];e[l+1]=m[1];e[l+2]=m[2]}}f["default"]=a}),66);
__d("WAWebEditGroupProfileDrawer.react",["fbt","$InternalEnum","ReactKonva","WANullthrows","WAWebCheckmarkLargeIcon.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEditGroupProfileDrawerColorPanel.react","WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react","WAWebFlex.react","WAWebFlexItem.react","WAWebIconTabs.react","WAWebMediaEditorEmojiIcon.react","WAWebMediaEditorStickerIcon.react","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebNoop","WAWebProfileCropConstants","WAWebRound.react","WAWebToast.react","WAWebToastManager","WAWebUtilsGetColor","WAWebUtilsSharpenFilter","asyncToGeneratorRuntime","err","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=64,p=b("$InternalEnum").Mirrored(["EMOJI","STICKER"]),q={body:{flexGrow:"x1iyjqo2",$$css:!0},footer:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",height:"xwvwv9b",zIndex:"xhtitgo",alignItems:"x7a106z",justifyContent:"xl56j7k",backgroundColor:"x1sapvj0",$$css:!0}},r={emojiIcon:{width:"x17z2i9w",height:"x17rw0jw",$$css:!0},stickerIcon:{width:"x1ig0tib",height:"x1pwvq5b",$$css:!0}},s=[["purple","sky-blue","green","yellow","orange","pink"],["cool-gray","cobalt","teal","red","sand"]],t=(e=[]).concat.apply(e,s),u=160,v=104,w={width:90,height:48};function x(a){var b=[];a=a.split(" ");for(var c=0;c<a.length;c++)a[c].length>0&&b.push(a[c]);return b}function y(a,b){var c="";for(var d=0;d<b.length;d++)c+=(d===0?"":" ")+b[d].text;d=x(c);if(a.length!==d.length)return!0;for(b=0;b<a.length;b++)if(a[b]!==d[b])return!0;return!1}function z(a){switch(a){case"purple":return h._(/*BTDS*/"__JHASH__pxEYmHsXIQL__JHASH__");case"sky-blue":return h._(/*BTDS*/"__JHASH__JlkxXM9FnbX__JHASH__");case"green":return h._(/*BTDS*/"__JHASH__N5SWWgkA3en__JHASH__");case"yellow":return h._(/*BTDS*/"__JHASH__D1HYMqusRfa__JHASH__");case"orange":return h._(/*BTDS*/"__JHASH__7abvtGI45Gn__JHASH__");case"pink":return h._(/*BTDS*/"__JHASH__BsUZFo6Jy-i__JHASH__");case"cool-gray":return h._(/*BTDS*/"__JHASH__WHF5RNN_z01__JHASH__");case"cobalt":return h._(/*BTDS*/"__JHASH__qZZt6LGnCx1__JHASH__");case"teal":return h._(/*BTDS*/"__JHASH__-w4XGW4IYLA__JHASH__");case"red":return h._(/*BTDS*/"__JHASH__s8s32i37zbX__JHASH__");case"sand":return h._(/*BTDS*/"__JHASH__oTkkPzdd5ET__JHASH__")}}function a(a){var e=a.onCancel,f=a.onFinished,g=a.sendEmojiStickerPanelOpenLoggingEvent;a=a.title;var i=n(null),j=i[0],A=i[1];i=n(null);var B=i[0],C=i[1];i=n(null);var D=i[0],E=i[1];i=n(0);var F=i[0],G=i[1];i=n(null);var H=i[0],I=i[1];i=n([]);var J=i[0],K=i[1],L=m(null),M=m(null),N=m(!1),O={EMOJI:0,STICKER:1},P=m((i={},i[O.EMOJI]=c("WAWebNoop"),i[O.STICKER]=c("WAWebNoop"),i));i=m([]);var Q=m(null),R=h._(/*BTDS*/"__JHASH__otlA9IrYrsx__JHASH__");l(function(){var a;(a=M.current)==null?void 0:a.cache()},[j]);l(function(){var a=Q.current;if(a==null)return;var b=x(R.toString()),c=y(b,a.textArr);while(a.getHeight()>w.height||c)a.fontSize(a.fontSize()-1),c=y(b,a.textArr)},[R]);var S=k.jsx(d("ReactKonva").Stage,{width:u,height:u,className:"xqui205 xqmxbcd x1hq5gj4 xmupa6y x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 xc8icb0",ref:L,onClick:function(){j==null&&D==null&&E(0)},children:k.jsxs(d("ReactKonva").Layer,{children:[k.jsx(d("ReactKonva").Rect,{width:u,height:u,fill:c("WAWebUtilsGetColor")(t[F],200)}),j==null?k.jsx(d("ReactKonva").Text,{ref:Q,x:u/2,y:u/2,width:w.width,height:w.height,offset:{x:w.width/2,y:w.height/2},lineHeight:1.14,align:"center",verticalAlign:"middle",text:R.toString(),fontSize:14,fontFamily:'"SF Pro Text", "SF Pro Icons", system, -apple-system, system-ui, "system-ui", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", "Kohinoor Devanagari", sans-serif',fill:c("WAWebUtilsGetColor")("cool-gray-alpha",50)}):k.jsx(d("ReactKonva").Image,{ref:M,width:v,height:v,offset:{x:v/2,y:v/2},x:u/2,y:u/2,image:j,filters:B===p.EMOJI&&N.current?[c("WAWebUtilsSharpenFilter")]:[]})]})});Object.values(O).forEach(function(a){typeof a==="number"&&(P.current[a]=function(){D===a&&E(null)})});var T=function(a){g!=null&&g(a)},U=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{if(a!=null)K(null),I(a);else if(b!=null){var e;I(null);K((e=b==null?void 0:b.mediaData.emojis)!=null?e:[])}if(a!=null){e=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(a));e&&(A(e),N.current=e.naturalWidth<=o&&e.naturalHeight<=o,C(p.EMOJI))}else if(b!=null){a=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromSticker(b));A(a);C(p.STICKER)}else throw c("err")("Neither emoji nor sticker is provided in handleEmojiStickerSelect()")}catch(a){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__C9w8O5X_0tX__JHASH__")}))}});return function(b,c){return a.apply(this,arguments)}}(),V=function(){if(j==null)d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__hMxSdmwM_-a__JHASH__"),id:"ChooseAnEmojiOrStickerToContinueToast"}),d("WAWebToastManager").ToastPosition.CENTER);else{var a,b;a=(a=(a=L.current)==null?void 0:a.toDataURL({mimeType:"image/jpeg",pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE/u,quality:0,width:u,height:u}))!=null?a:"";b=(b=(b=L.current)==null?void 0:b.toDataURL({mimeType:"image/jpeg",pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE*2/u,quality:1,width:u,height:u}))!=null?b:"";f(a,b,c("WANullthrows")(B))}};V=k.createElement("div",babelHelpers["extends"]({className:"x1cb1t30"},{key:"btn-submit"}),k.jsx(d("WAWebRound.react").Round,{large:!0,onClick:V,theme:j==null?d("WAWebRound.react").RoundTheme.Disabled:void 0,label:h._(/*BTDS*/"__JHASH__gW0TpUvEri4__JHASH__"),children:k.jsx(d("WAWebCheckmarkLargeIcon.react").CheckmarkLargeIcon,{})}));H=H!=null?h._(/*BTDS*/"__JHASH__xobU7ydisiz__JHASH__",[h._param("emoji name",H),h._param("color name",z(t[F]))]):null;var W=null;if(Array.isArray(J))if(J.length>0){var X;W=h._(/*BTDS*/"__JHASH__CK9hBRJrIEq__JHASH__",[h._plural((X=J==null?void 0:J.length)!=null?X:0),h._param("emoji name",J==null?void 0:J.join(" ")),h._param("color name",z(t[F]))])}else W=h._(/*BTDS*/"__JHASH___5_ZdAPFRiJ__JHASH__",[h._param("color name",z(t[F]))]);H=(J=(X=H)!=null?X:W)!=null?J:R;return k.jsxs(c("WAWebDrawer.react"),{theme:"products",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:e}),k.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[k.jsxs(d("WAWebFlex.react").FlexColumn,{className:"x16w0wmm x1n2onr6 xh8yej3 x5yr21d",align:"center",justify:"center",children:[k.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:q.body,children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{role:"img","aria-label":H,children:S}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebIconTabs.react").IconTabs,{refs:i.current,selectedIndex:D,onSelect:function(a){a!==D&&(E(a),T(a===O.EMOJI?p.EMOJI:p.STICKER))},tabConfigs:[{Icon:d("WAWebMediaEditorEmojiIcon.react").MediaEditorEmojiIcon,iconStyle:r.emojiIcon,ariaLabel:h._(/*BTDS*/"__JHASH__tJd2_iASRmu__JHASH__")},{Icon:d("WAWebMediaEditorStickerIcon.react").MediaEditorStickerIcon,iconStyle:r.stickerIcon,ariaLabel:h._(/*BTDS*/"__JHASH__Lgi_15kaHGu__JHASH__")}],popupAtLaunch:!0})}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(c("WAWebEditGroupProfileDrawerColorPanel.react"),{className:"x1yl842u",colors:s,selectedIndex:F,onSelect:function(a){G(a)}})})]})}),k.jsx(c("WAWebFlexItem.react"),{grow:0,xstyle:q.footer,children:V})]}),D===O.EMOJI&&k.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").EmojiPanelPopup,{anchor:c("WANullthrows")((X=i.current[O.EMOJI])==null?void 0:X.current),onSelect:U,onClose:function(){return P.current[O.EMOJI]()}}),D===O.STICKER&&k.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").StickerPanelPopup,{anchor:c("WANullthrows")((W=i.current[O.STICKER])==null?void 0:W.current),onSelect:function(a){return U(null,a)},onClose:function(){return P.current[O.STICKER]()}})]})]},"attach-edit-group-profile-modal")}a.displayName=a.name+" [from "+f.id+"]";g.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=o;g.ImageType=p;g.COLOR_OPTIONS=t;g.PHOTO_SIZE=u;g.IMAGE_SIZE=v;g.getFbtColorString=z;g.EditGroupProfileDrawer=a}),226);
__d("WAWebEditGroupProfileDrawerColorPanel.react",["WAWebClassnames","WAWebEditGroupProfileDrawer.react","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebThemeContext","WAWebUnstyledButton.react","WAWebUtilsGetColor","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useContext,l=b.useRef,m={btn:{width:"x1td3qas",height:"x10w6t97",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",":focus_borderTopStartRadius":"x80oadr",":focus_borderTopEndRadius":"xwq6b5d",":focus_borderBottomEndRadius":"xtm992s",":focus_borderBottomStartRadius":"xc4qb57",$$css:!0},btnSelected:{width:"x1ksvffz",height:"xqaafxp",$$css:!0}};function a(a){var b=a.className,e=a.colors,f=a.onSelect,g=a.selectedIndex;a=k(d("WAWebThemeContext").ThemeContext);var h=a.theme,i=l(g),n=l([]),o={rows:e,getNum:function(){return o.rows.reduce(function(a,b){return a+b.length},0)}};a={right:function(){var a=i.current===o.getNum()-1?0:i.current+1;(a=n.current[a])==null?void 0:a.focus()},left:function(){var a=i.current===0?o.getNum()-1:i.current-1;(a=n.current[a])==null?void 0:a.focus()}};var p=0;return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{role:"tablist",handlers:a,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(b),children:o.rows.map(function(a,b){return j.jsx(d("WAWebFlex.react").FlexRow,{className:"xzbgwbi",justify:"center",children:a.map(function(a){var b=p++,e=g===b;return j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",children:j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",className:"x9f619 x1n7h9c3 x1s1d1n7 x14yjl9h xudhj91 x18nykt9 xww2gxu x1hiyaco x1cd8eua",style:{border:e?"1.5px solid "+c("WAWebUtilsGetColor")(a,h==="light"?600:300):""},children:j.jsx(c("WAWebUnstyledButton.react"),{role:"tab",ref:function(a){return n.current[b]=a},tabIndex:e?0:-1,"aria-label":d("WAWebEditGroupProfileDrawer.react").getFbtColorString(a),"aria-selected":e,onClick:function(){return f(b)},onFocus:function(){i.current=b},children:j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[m.btn,e&&m.btnSelected],style:{backgroundColor:c("WAWebUtilsGetColor")(a,200)}})})})},b)})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebEditImageModal.react",["fbt","WAWebEditImageDrawer.react","WAWebModal.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.cropShape,c=a.img,e=a.onFinished,f=a.onRetake;a=a.theme;var g=function(){d("WAWebModalManager").ModalManager.close()},i=function(a,b){e(a,b),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebModal.react").Modal,{type:a,ariaLabel:h._(/*BTDS*/"__JHASH__wQS216Fkk_h__JHASH__"),testid:void 0,children:j.jsx(d("WAWebEditImageDrawer.react").EditImageDrawer,{onCancel:g,onFinished:i,onRetake:f,retryText:d("WAWebEditImageDrawer.react").RETRY_OPTIONS.RESTART,img:c,cropShape:b||void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebExpressionsRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="expressions-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsxs("g",{opacity:.9,children:[j.jsx("path",{d:"M8.49893 10.2521C9.32736 10.2521 9.99893 9.5805 9.99893 8.75208C9.99893 7.92365 9.32736 7.25208 8.49893 7.25208C7.6705 7.25208 6.99893 7.92365 6.99893 8.75208C6.99893 9.5805 7.6705 10.2521 8.49893 10.2521Z",fill:"currentColor"}),j.jsx("path",{d:"M17.0011 8.75208C17.0011 9.5805 16.3295 10.2521 15.5011 10.2521C14.6726 10.2521 14.0011 9.5805 14.0011 8.75208C14.0011 7.92365 14.6726 7.25208 15.5011 7.25208C16.3295 7.25208 17.0011 7.92365 17.0011 8.75208Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8221 19.9799C15.5379 21.2537 13.8087 21.9781 12 22H9.27273C5.25611 22 2 18.7439 2 14.7273V9.27273C2 5.25611 5.25611 2 9.27273 2H14.7273C18.7439 2 22 5.25611 22 9.27273V11.8141C22 13.7532 21.2256 15.612 19.8489 16.9776L16.8221 19.9799ZM14.7273 4H9.27273C6.36068 4 4 6.36068 4 9.27273V14.7273C4 17.6393 6.36068 20 9.27273 20H11.3331C11.722 19.8971 12.0081 19.5417 12.0058 19.1204L11.9935 16.8564C11.9933 16.8201 11.9935 16.784 11.9941 16.7479C11.0454 16.7473 10.159 16.514 9.33502 16.0479C8.51002 15.5812 7.84752 14.9479 7.34752 14.1479C7.24752 13.9479 7.25585 13.7479 7.37252 13.5479C7.48919 13.3479 7.66419 13.2479 7.89752 13.2479L13.5939 13.2479C14.4494 12.481 15.5811 12.016 16.8216 12.0208L19.0806 12.0296C19.5817 12.0315 19.9889 11.6259 19.9889 11.1248V9.07648H19.9964C19.8932 6.25535 17.5736 4 14.7273 4ZM14.0057 19.1095C14.0066 19.2605 13.9959 19.4089 13.9744 19.5537C14.5044 19.3124 14.9926 18.9776 15.4136 18.5599L18.4405 15.5576C18.8989 15.1029 19.2653 14.5726 19.5274 13.996C19.3793 14.0187 19.2275 14.0301 19.0729 14.0295L16.8138 14.0208C15.252 14.0147 13.985 15.2837 13.9935 16.8455L14.0057 19.1095Z",fill:"currentColor"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ExpressionsRefreshedIcon=a}),98);
__d("WAWebFolderOpenRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="folder-open-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H9.175C9.44167 4 9.69583 4.05 9.9375 4.15C10.1792 4.25 10.3917 4.39167 10.575 4.575L12 6H21C21.2833 6 21.5208 6.09583 21.7125 6.2875C21.9042 6.47917 22 6.71667 22 7C22 7.28333 21.9042 7.52083 21.7125 7.7125C21.5208 7.90417 21.2833 8 21 8H11.175L9.175 6H4V18L5.975 11.425C6.10833 10.9917 6.35417 10.6458 6.7125 10.3875C7.07083 10.1292 7.46667 10 7.9 10H20.8C21.4833 10 22.0208 10.2708 22.4125 10.8125C22.8042 11.3542 22.9083 11.9417 22.725 12.575L20.925 18.575C20.7917 19.0083 20.5458 19.3542 20.1875 19.6125C19.8292 19.8708 19.4333 20 19 20H4ZM6.1 18H19L20.8 12H7.9L6.1 18Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.FolderOpenRefreshedIcon=a}),98);
__d("WAWebImageRefreshedFilledIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="image-refreshed-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M5 21C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V5C3 4.45 3.19583 3.97917 3.5875 3.5875C3.97917 3.19583 4.45 3 5 3H19C19.55 3 20.0208 3.19583 20.4125 3.5875C20.8042 3.97917 21 4.45 21 5V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H5ZM7 17H17C17.2 17 17.35 16.9083 17.45 16.725C17.55 16.5417 17.5333 16.3667 17.4 16.2L14.65 12.525C14.55 12.3917 14.4167 12.325 14.25 12.325C14.0833 12.325 13.95 12.3917 13.85 12.525L11.25 16L9.4 13.525C9.3 13.3917 9.16667 13.325 9 13.325C8.83333 13.325 8.7 13.3917 8.6 13.525L6.6 16.2C6.46667 16.3667 6.45 16.5417 6.55 16.725C6.65 16.9083 6.8 17 7 17Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ImageRefreshedFilledIcon=a}),98);
__d("WAWebTakePhotoMenuItem.react",["fbt","WAWebDropdownItem.react","WAWebEditCaptureFlowLoadable","WAWebModal.react","WAWebModalManager","WAWebProfileCropTool.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.onImageTake,c=a.editCropShape,e=a.modalTheme,f=a.icon,g=function(f){a.action!=null&&a.action(f),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebEditCaptureFlowLoadable").EditCaptureFlowLoadable,{onFinished:b,editCropShape:c||d("WAWebProfileCropTool.react").CropShapeType.CIRCLE,modalTheme:e||d("WAWebModal.react").ModalTheme.Box}))};return j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:g,testid:void 0,disabled:a.disabled,icon:f,children:h._(/*BTDS*/"__JHASH__oIv2srgU-uj__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebPhotoPicker.react",["fbt","ReactKonva","WAGetUserMedia","WALogger","WAWebAnnouncementSpeakerIcon.react","WAWebAvatarOverlay.react","WAWebAvatarSpinner.react","WAWebCameraIcon.react","WAWebCameraOutlineRefreshedIcon.react","WAWebCommunityGeneralChatImage.react","WAWebCommunitySquircleIcon.react","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDataTransfer","WAWebDefaultGroupIcon.react","WAWebDefaultGroupRefreshedIcon.react","WAWebDefaultNewsletterIcon.react","WAWebDefaultUserIcon.react","WAWebDeleteRefreshedIcon.react","WAWebDropdownItem.react","WAWebEditGroupProfileDrawer.react","WAWebEditImageModal.react","WAWebExpressionsRefreshedIcon.react","WAWebEyeIcon.react","WAWebFileUtils","WAWebFocusTracer","WAWebFolderOpenRefreshedIcon.react","WAWebImageRefreshedFilledIcon.react","WAWebImg.react","WAWebKeyboardHotKeys.react","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebMediaLoad","WAWebMiscGatingUtils","WAWebModal.react","WAWebModalManager","WAWebNonEmptyString","WAWebObjectFit.react","WAWebPhotoPickType","WAWebPhotoPickerConstants","WAWebPhotoPickerStyle","WAWebPhotoViewerModal.react","WAWebProfileCropConstants","WAWebProfileCropTool.react","WAWebRefreshIcon.react","WAWebRoundShape.react","WAWebShape.react","WAWebSpinner.react","WAWebTakePhotoMenuItem.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnstyledButton.react","WAWebUseIsKeyboardUser","WAWebUtilsGetColor","WAWebUtilsSharpenFilter","WAWebVelocityTransitionGroup","WAWebVisibilityOffOutlineIcon.react","WAWebWamEnumGroupProfileActionType","WAWebWamEnumProfilePictureType","asyncToGeneratorRuntime","cr:5981","react","stylex","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["PhotoPicker:onImageReceived failed to load image: ",""]);l=function(){return a};return a}e=k||d("react");var m=i||(i=c("react")),aa=e.useEffect,ba=e.useMemo,n=e.useRef,o=e.useState,p=b("cr:5981")==null?void 0:b("cr:5981").InternalStatusWarningImageOverlay,ca={iconBg:{backgroundColor:"x1q3ci2r",$$css:!0}};function q(){return m.jsx("hr",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([d("WAWebPhotoPickerStyle").styles.separator,d("WAWebUISpacing").uiMargin.vert4,d("WAWebUISpacing").uiMargin.horiz1])))}q.displayName=q.name+" [from "+f.id+"]";function a(a){var e,f=a.HoverIcon,g=a.attachToChat,i=a.dimmed;i=i===void 0?!1:i;var k=a.id,ea=a.onImageSet,r=a.pending;r=r===void 0?!1:r;var s=a.readOnly,t=s===void 0?!1:s,u=a.sendGroupProfilePictureLoggingEvent;s=a.showAddIconOverlay;s=s===void 0?!0:s;var v=a.showHiddenSubgroupIcon;v=v===void 0?!1:v;var w=a.showOutline;w=w===void 0?!1:w;var x=a.size,y=a.startImage,z=y===void 0?"":y;a.tabIndex;y=a.testid;var A=a.theme,B=a.type;a=o((y=z)!=null?y:"");var C=a[0],D=a[1];y=o(!1);a=y[0];var E=y[1];y=o(null);var F=y[0],G=y[1];y=o();var H=y[0],I=y[1];y=o();var J=y[0],fa=y[1],ga=c("useWAWebUIM")();y=c("WAWebUseIsKeyboardUser")();y=y.isKeyboardUser;var K=n(null),ha=n(null),L=h._(/*BTDS*/"__JHASH__AEJjmqRZAgv__JHASH__"),M=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),N=n(),O=n([].concat(d("WAWebPhotoPickerConstants").getPhotoPickerQualifiedEmojis()));if(((e=z)!=null?e:"")!==C){D((e=z)!=null?e:"");G(z===""?null:F)}var P=!r&&(F!=null||C===""&&!t),Q=function(a){B===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&(u==null?void 0:u(a,!!z))},R=function(a){B===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&u!=null&&u(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.PROFILE_PIC_UPDATED,!!z,a)},ia=function(a){if(B===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&u!=null){a=da(a);u(a,!!z)}},ja=function(a){Q(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_UPLOAD_PHOTO);a=ha.current;if(!a)return;a.click();return!0},S=function(){I(null)};e=function(a){var b=a.currentTarget.clientWidth;a=a.currentTarget.clientHeight;G({width:b,height:a})};var ka=function(a){E(!1)},la=function(a){E(!0)},ma=function(a){E(!0)},T=function(a,b,c){var e=d("WAWebNonEmptyString").asMaybeNonEmptyString(a),f=d("WAWebNonEmptyString").asMaybeNonEmptyString(b);if(e==null||f==null){D("");G(null);return}d("WAWebMediaLoad").loadImage(e).then(function(a){D(e),ea(e,f,c)})["catch"](function(b){d("WALogger").WARN(l(),String(b));var a;switch(B){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"__JHASH__rk8vmgvs7Sp__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"__JHASH__zFen_en22lK__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"__JHASH__Dy__45vbdIC__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"__JHASH__EzF_YPtIrPH__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a}))})},na=function(a){var b=URL.createObjectURL(a);d("WAWebMediaLoad").loadImage(b).then(function(b){if(b&&(b.width<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE||b.height<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE))d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"__JHASH__HAKjQo7baxS__JHASH__",[h._plural(d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE,"number_of_pixels")])}));else{b=B===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebModal.react").ModalTheme.BoxLarge:d("WAWebModal.react").ModalTheme.Box;var e;B===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?e=d("WAWebProfileCropTool.react").CropShapeType.RECT:B===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY?e=d("WAWebProfileCropTool.react").CropShapeType.SQUIRCLE:e=d("WAWebProfileCropTool.react").CropShapeType.CIRCLE;d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebEditImageModal.react"),{img:a,onFinished:function(a,b){R(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.PHOTO_UPLOAD),T(a,b,d("WAWebPhotoPickType").PhotoPickType.Gallery)},onRetake:ja,cropShape:e,theme:b}))}})["catch"](function(){var a;switch(B){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"__JHASH__rk8vmgvs7Sp__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"__JHASH__zFen_en22lK__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"__JHASH__Dy__45vbdIC__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"__JHASH__EzF_YPtIrPH__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a}))})["finally"](function(){URL.revokeObjectURL(b)})},oa=function(a){S();var b=a.target.files[0];if(!b)return!1;na(b);a.target.value="";K.current&&c("WAWebFocusTracer").focus(K.current)},U=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=Math.floor(Math.random()*O.current.length);fa({color:c("WAWebUtilsGetColor")(d("WAWebEditGroupProfileDrawer.react").COLOR_OPTIONS[Math.floor(Math.random()*d("WAWebEditGroupProfileDrawer.react").COLOR_OPTIONS.length)],200),emoji:yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(O.current[a])});O.current.splice(a,1);O.current.length===0&&(O.current=[].concat(d("WAWebPhotoPickerConstants").getPhotoPickerQualifiedEmojis()))});return function(){return a.apply(this,arguments)}}(),pa=function(a){if(!H)return;var b=new(c("WAWebDataTransfer"))(a.clipboardData);b=b.getFiles().filter(function(a){return d("WAWebFileUtils").typeFromMimetype(a.type)==="image"});if(!b.length)return;a.preventDefault();a.stopPropagation();S();a=b[0];na(a)},V=function(){Q(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_VIEW_PHOTO);var a=K.current;if(!a||!k)return;var b=function(b){b(a)},e=d("WAWebContactCollection").ContactCollection.assertGet(k),f={transition:"profile-viewer"};g&&(f.uim=ga);d("WAWebModalManager").ModalManager.openMedia(m.jsx(c("WAWebPhotoViewerModal.react"),{contact:e,profilePicThumb:e.getProfilePicThumb(),animateBorderRadius:B!==d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY,animateSquircle:B===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY,getZoomNode:b}),f)},qa=function(){ea(void 0,void 0,d("WAWebPhotoPickType").PhotoPickType.None),d("WAWebModalManager").ModalManager.close(),R(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.REMOVE_PHOTO)},ra=function(b){Q(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_REMOVE_PHOTO);var a;switch(B){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"__JHASH__8xAhiJ26dK7__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"__JHASH__EUdCRIvMaPn__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"__JHASH__ZOCtKXvYSMi__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"__JHASH__BTeBjirWxaV__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:a=h._(/*BTDS*/"__JHASH__0S3nFTymkbv__JHASH__");break}d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:qa,okText:h._(/*BTDS*/"__JHASH__twqDGXuDz6h__JHASH__"),onCancel:function(){return d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__"),children:a}))},sa=function(a){Q(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_EMOJI_STICKER);a=h._(/*BTDS*/"__JHASH__Kjw81Ud1sXc__JHASH__");d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,ariaLabel:a,testid:void 0,children:m.jsx(d("WAWebEditGroupProfileDrawer.react").EditGroupProfileDrawer,{title:a,onCancel:function(){return d("WAWebModalManager").ModalManager.close()},onFinished:function(a,b,c){R(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE[String(c)]),T(a,b,c===d("WAWebEditGroupProfileDrawer.react").ImageType.EMOJI?d("WAWebPhotoPickType").PhotoPickType.Emoji:d("WAWebPhotoPickType").PhotoPickType.Sticker),d("WAWebModalManager").ModalManager.close()},sendEmojiStickerPanelOpenLoggingEvent:ia})}))},ta=function(){var a=[];k!=null&&C!==""&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:m.jsx(d("WAWebEyeIcon.react").EyeIcon,{}),testid:void 0,action:V,children:h._(/*BTDS*/"__JHASH__vn1_qJDedgS__JHASH__")},"view"));if(d("WAGetUserMedia").getUserMedia){var b=B===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebProfileCropTool.react").CropShapeType.RECT:d("WAWebProfileCropTool.react").CropShapeType.CIRCLE,e=B===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebModal.react").ModalTheme.BoxLarge:d("WAWebModal.react").ModalTheme.Box;a.push(m.jsx(c("WAWebTakePhotoMenuItem.react"),{icon:m.jsx(d("WAWebCameraOutlineRefreshedIcon.react").CameraOutlineRefreshedIcon,{}),onImageTake:function(a,b){R(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.PHOTO_CAMERA),T(a,b,d("WAWebPhotoPickType").PhotoPickType.Camera)},editCropShape:b,modalTheme:e,action:function(){Q(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_TAKE_PHOTO)}},"take"))}a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:m.jsx(d("WAWebFolderOpenRefreshedIcon.react").FolderOpenRefreshedIcon,{}),testid:void 0,action:ja,children:h._(/*BTDS*/"__JHASH__xzvwSpv2iRx__JHASH__")},"upload"));d("WAWebMiscGatingUtils").groupProfileEditorEnabled()&&(B===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP||B===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY||B===d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER)&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:m.jsx(d("WAWebExpressionsRefreshedIcon.react").ExpressionsRefreshedIcon,{}),testid:void 0,action:sa,children:h._(/*BTDS*/"__JHASH__QCijWvBzqVd__JHASH__")},"edit"));C!==""&&(a.push(m.jsx(q,{},"separator")),a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:m.jsx(d("WAWebDeleteRefreshedIcon.react").DeleteRefreshedIcon,{}),testid:void 0,action:ra,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"__JHASH__2xIAPFguRuk__JHASH__")},"remove")));return a},ua=function(a){if(!P)return;if(t){C!==""&&V();return}a.stopPropagation();a.preventDefault();var b=ta();I({menu:b,event:a});B===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&u!=null&&u(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.CHANGE_PROFILE_PHOTO,!!z)},va=function(a){if(!P)return;if(t){C!==""&&V();return}a.stopPropagation();a.preventDefault();a=ta();I({menu:a,anchor:K.current})},wa=function(){return x!=null?{width:x,height:x}:void 0},W;C!==""&&(W=m.jsx(c("WAWebObjectFit.react"),{type:"cover",size:F,children:m.jsx(c("WAWebImg.react"),{src:C,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:e})}));var X;(r||C!==""&&!F)&&(B===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?X=m.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebPhotoPickerStyle").styles.loadingBg),{children:m.jsx("div",babelHelpers["extends"]({},j.props(d("WAWebPhotoPickerStyle").styles.cornerSpinner),{children:m.jsx(d("WAWebSpinner.react").Spinner,{size:24,stroke:3,color:"solidwhite"})}))})):X=m.jsx(c("WAWebAvatarSpinner.react"),{}));e=null;if(!r&&!t&&(C===""||F)&&(C===""||H||a)){var Y="";switch(B){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:Y=C!==""?h._(/*BTDS*/"__JHASH__6rg9NZiv5UL__JHASH__"):h._(/*BTDS*/"__JHASH__3UKVAWU6L-u__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:Y=C!==""?h._(/*BTDS*/"__JHASH__xqDdEkOgXvD__JHASH__"):h._(/*BTDS*/"__JHASH__spct1VzJ6Lk__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:Y=C!==""?h._(/*BTDS*/"__JHASH__-mV8YWbPJT9__JHASH__"):h._(/*BTDS*/"__JHASH__q3konMVr11r__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:Y=C!==""?h._(/*BTDS*/"__JHASH__tTnGRfZUExy__JHASH__"):h._(/*BTDS*/"__JHASH___hBloUW7zR1__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}B!==d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO&&s&&(e=m.jsx(d("WAWebAvatarOverlay.react").AvatarOverlay,{icon:M?m.jsx(d("WAWebImageRefreshedFilledIcon.react").ImageRefreshedFilledIcon,{height:24,width:24}):m.jsx(d("WAWebCameraIcon.react").CameraIcon,{"aria-hidden":!0}),text:Y,theme:B===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY?d("WAWebAvatarOverlay.react").AvatarOverlayTheme.COMMUNITY:d("WAWebAvatarOverlay.react").AvatarOverlayTheme.DEFAULT}));L=Y}aa(function(){if(A===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.EMOJI_SUGGESTIONS&&J){var a,b,c={mimeType:"image/jpeg",width:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,height:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE};a=(a=(a=N.current)==null?void 0:a.toDataURL(babelHelpers["extends"]({},c,{pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE/d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,quality:0})))!=null?a:"";c=(b=(b=N.current)==null?void 0:b.toDataURL(babelHelpers["extends"]({},c,{pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE*2/d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,quality:1})))!=null?b:"";T(a,c,d("WAWebPhotoPickType").PhotoPickType.Emoji)}},[J]);var xa,ya;if(A===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.EMOJI_SUGGESTIONS){s=J||{};Y=s.color;s=s.emoji;xa=m.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,xstyle:[d("WAWebPhotoPickerStyle").styles.bottomEndFloater,d("WAWebPhotoPickerStyle").styles.newSuggestion,M&&d("WAWebPhotoPickerStyle").styles.bottomEndFloaterRefreshed],onClick:U,"aria-label":h._(/*BTDS*/"__JHASH__TUApnaWfGnz__JHASH__"),children:m.jsx(c("WAWebRoundShape.react"),{xstyle:M&&d("WAWebPhotoPickerStyle").styles.roundRefreshedSize,children:m.jsx(d("WAWebRefreshIcon.react").RefreshIcon,{width:30,height:30})})});if(Y!=null&&s){ya=m.jsx(d("ReactKonva").Stage,{ref:N,width:(U=d("WAWebEditGroupProfileDrawer.react")).PHOTO_SIZE,height:U.PHOTO_SIZE,className:(j||(j=c("stylex")))(d("WAWebPhotoPickerStyle").styles.hidden),children:m.jsxs(d("ReactKonva").Layer,{children:[m.jsx(d("ReactKonva").Rect,{width:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,height:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,fill:Y}),m.jsx(d("ReactKonva").Image,{width:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE,height:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE,offset:{x:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE/2,y:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE/2},x:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE/2,y:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE/2,image:s,filters:s.naturalWidth<=d("WAWebEditGroupProfileDrawer.react").EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD&&s.naturalHeight<=d("WAWebEditGroupProfileDrawer.react").EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD?[c("WAWebUtilsSharpenFilter")]:[]})]})})}}U=v?m.jsx(c("WAWebRoundShape.react"),{xstyle:[d("WAWebPhotoPickerStyle").styles.bottomEndFloater,d("WAWebPhotoPickerStyle").styles.hiddenSubgroupContainer,M&&[d("WAWebPhotoPickerStyle").styles.roundRefreshedSize,d("WAWebPhotoPickerStyle").styles.bottomEndFloaterRefreshed]],children:m.jsx(d("WAWebVisibilityOffOutlineIcon.react").VisibilityOffOutlineIcon,{iconXstyle:d("WAWebPhotoPickerStyle").styles.hiddenSubgroupIcon,width:M?30:46,height:M?30:46})}):null;var za;H&&(za=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:S,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:H})}));Y=ba(function(){var a=[d("WAWebPhotoPickerStyle").styles.svgSize];B===d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER?a.push(d("WAWebPhotoPickerStyle").styles.newsletterAvatar):B===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY&&a.push(d("WAWebPhotoPickerStyle").styles.communitySquircle);B===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP&&d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIcon&&a.push(d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIconSvg);return{innerStyles:{primary:d("WAWebPhotoPickerStyle").styles.primaryFill,background:d("WAWebPhotoPickerStyle").styles.backgroundFill},"aria-hidden":!0,iconXstyle:a}},[B]);var Z;if(r||C===""||!F){var $;switch(B){case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:$=m.jsx(d("WAWebDefaultUserIcon.react").DefaultUserIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:$=m.jsx(d("WAWebCommunitySquircleIcon.react").CommunitySquircleIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:$=m.jsx(d("WAWebDefaultNewsletterIcon.react").DefaultNewsletterIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:$=m.jsx(d("WAWebAnnouncementSpeakerIcon.react").AnnouncementSpeakerIcon,babelHelpers["extends"]({directional:!0},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:Z=m.jsx(d("WAWebCommunityGeneralChatImage.react").CommunityGeneralChatImage,{});break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:$=null;break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:M?$=m.jsx(d("WAWebShape.react").Shape,{shape:"circle",xstyle:ca.iconBg,children:m.jsx(d("WAWebDefaultGroupRefreshedIcon.react").DefaultGroupRefreshedIcon,babelHelpers["extends"]({},Y))}):$=m.jsx(d("WAWebDefaultGroupIcon.react").DefaultGroupIcon,babelHelpers["extends"]({},Y));break}$!=null&&(Z=m.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(B===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP&&d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIcon),{children:$})))}s=document.activeElement===K.current?{space:va,enter:va}:{};v=[d("WAWebPhotoPickerStyle").styles.body,P&&d("WAWebPhotoPickerStyle").styles.clickable,d("WAWebUISpacing").uiMargin.horizAuto];(B===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY||B===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP)&&v.push(d("WAWebPhotoPickerStyle").styles.squircleBackground);B===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO&&v.push(d("WAWebPhotoPickerStyle").styles.rectBackground);return m.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{className:(j||(j=c("stylex")))(M?d("WAWebPhotoPickerStyle").styles.containerRefreshed:d("WAWebPhotoPickerStyle").styles.container,A===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.COVER_PHOTO&&d("WAWebPhotoPickerStyle").styles.coverPhoto,a&&C!==""&&t&&d("WAWebPhotoPickerStyle").styles.dimmed,w&&W!=null&&d("WAWebPhotoPickerStyle").styles.imageBorder,y&&P&&d("WAWebPhotoPickerStyle").nonStandardStyles.focusRing,d("WAWebUISpacing").uiMargin.horizAuto),style:wa(),handlers:s,"aria-label":L.toString(),role:"button",children:[m.jsxs(c("WAWebUnstyledButton.react"),{xstyle:v,onClick:ua,onMouseOver:ma,onMouseEnter:la,onMouseLeave:ka,onPaste:pa,onFocus:la,onBlur:ka,ref:K,title:L,dir:"ltr",tabIndex:P?0:-1,role:P?"button":"none",testid:void 0,children:[m.jsxs("div",babelHelpers["extends"]({},j.props(d("WAWebPhotoPickerStyle").styles.imageContainer,i&&d("WAWebPhotoPickerStyle").styles.dimmed),{role:"img","aria-label":L.toString(),children:[W,p&&k?m.jsx(p,{id:k}):null,Z,ya]})),m.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[X,e]})]}),f!=null&&!t&&m.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebPhotoPickerStyle").styles.icon),{children:m.jsx(f,{width:16,height:16})})),m.jsx("input",{ref:ha,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:oa}),za,xa,U]})}a.displayName=a.name+" [from "+f.id+"]";var da=function(a){switch(a){case d("WAWebEditGroupProfileDrawer.react").ImageType.EMOJI:return d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.EMOJI_PANEL_OPEN;case d("WAWebEditGroupProfileDrawer.react").ImageType.STICKER:return d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.STICKER_PANEL_OPEN}};g["default"]=a}),226);